import{q as _,v as V,a as N,x as R,o as w,c as r,i as t,d as l,t as o,b as e,y as A,e as E,s as Y,B as c,w as u,A as S,C as q,r as T}from"./index-xpF7dIu9.js";import{_ as G}from"./MusicList-57iRDOC5.js";const L={class:"tw-fixed tw-top-0 tw-bottom-0 tw-left-0 tw-right-0 tw-bg-white"},M=t("div",{class:"tw-fixed tw-top-0 tw-bottom-1/2 tw-left-0 tw-right-0 tw-bg-red-400 -tw-z-10"},null,-1),O={class:"tw-text-lg tw-flex-1 tw-line-clamp-1 tw-pr-3"},$={class:"tw-flex tw-mb-3 tw-min-h-28"},F={key:0,class:"tw-h-28 tw-w-28 tw-rounded-2xl"},J={class:"tw-flex tw-flex-col tw-ml-3"},K={class:"tw-mb-3"},Q={class:"tw-line-clamp-2 tw-w-56"},W={class:"tw-flex tw-items-center"},X={key:0,class:"tw-h-8 tw-w-8 tw-rounded-full tw-border-solid tw-mr-2"},Z={class:"tw-text-sm tw-opacity-80"},tt={class:"tw-line-clamp-1 tw-text-sm tw-opacity-80"},et={class:"tw-flex tw-justify-between tw-my-5"},st={class:"tw-h-10 tw-bg-white rounded-pill tw-w-[105px] tw-bg-opacity-45 tw-justify-center tw-flex tw-items-center"},lt={class:"tw-text-sm"},ot={class:"tw-h-10 tw-bg-white rounded-pill tw-w-[105px] tw-bg-opacity-45 tw-flex tw-items-center tw-justify-center"},it={class:"tw-text-sm tw-ml-1"},at={class:"tw-h-10 tw-bg-red-500 rounded-pill tw-w-[105px] tw-justify-center tw-flex tw-items-center"},ct={class:"tw-text-sm tw-ml-1"},nt={class:"bottom tw-h-full tw-px-3 tw-bg-white tw-rounded-t-2xl"},wt=56,rt="正在载入...",ht={__name:"PlaylistDetailPage",setup(dt){let h=0,p=0;const f=_(null),x=_(0),d=_("歌单"),B=V().params.id,{data:s,pending:H}=N(()=>q(B).then(i=>i.data.playlist),{});R(()=>{h=f.value.clientHeight,p=h-wt});const I=()=>{var n;const i=x.value;let m="white",a="";return d.value="歌单",i>p&&(d.value=(n=s.value)==null?void 0:n.name,m="black",a="white"),{color:m,backgroundColor:a}},P=()=>history.back(),U=i=>{x.value=-i.y};return(i,m)=>{const a=T("lazy"),n=T("loading");return w(),r("div",L,[M,t("div",{class:"tw-flex tw-rounded-b-2xl tw-justify-between tw-items-center tw-absolute tw-z-50 tw-top-0 tw-left-0 tw-w-full tw-h-14 tw-text-white tw-transition-all tw-ease-in-out tw-duration-1000",style:A(I())},[l(c,{size:"30",elevation:"0",icon:"mdi-chevron-left",onClick:P,class:"tw-text-xl tw-ml-2 tw-mr-3"}),t("span",O,o(e(d)),1),l(c,{size:"25",elevation:"0",icon:"mdi-dots-vertical",class:"tw-mr-3"})],4),l(Y,{class:"tw-h-full","probe-type":3,onScroll:U},{default:E(()=>{var v,g,y,b,k,C,z,D,j;return[t("div",null,[t("div",{ref_key:"middleRef",ref:f,class:"middle tw-pt-20 tw-text-white tw-px-4"},[t("div",$,[e(s).coverImgUrl?u((w(),r("img",F,null,512)),[[a,e(s).coverImgUrl]]):S("",!0),t("div",J,[t("div",K,[t("span",Q,o((v=e(s))==null?void 0:v.name),1)]),t("div",W,[(g=e(s).creator)!=null&&g.avatarUrl?u((w(),r("img",X,null,512)),[[a,(y=e(s).creator)==null?void 0:y.avatarUrl]]):S("",!0),t("span",Z,o((k=(b=e(s))==null?void 0:b.creator)==null?void 0:k.nickname),1)])])]),t("div",tt,o((C=e(s))==null?void 0:C.description),1),t("div",et,[t("div",st,[l(c,{class:"tw--mt-1",size:"30",icon:"mdi-share"}),t("span",lt,o((z=e(s))==null?void 0:z.shareCount),1)]),t("div",ot,[l(c,{icon:"mdi-chat-processing"}),t("span",it,o((D=e(s))==null?void 0:D.commentCount),1)]),t("div",at,[l(c,{icon:"mdi-plus-box-multiple"}),t("span",ct,o((j=e(s))==null?void 0:j.subscribedCount),1)])])],512),u((w(),r("div",nt,[l(G,{songs:e(s).tracks},null,8,["songs"])])),[[n,e(H),rt]])])]}),_:1})])}}};export{ht as default};

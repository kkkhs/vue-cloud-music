import{a4 as _,a5 as N,a6 as I,a7 as D,a8 as L,Z as k,d as r,a9 as $,aa as H,ab as R,ac as T,ad as M,ae as z,L as f,af as S,a3 as W,q as U,o as c,c as w,t as u,A as V,i as s,b as h,w as p,z as C,ag as B,B as y,ah as F,e as P,j as K,K as j,$ as b,F as E,l as q}from"./index-xpF7dIu9.js";function O(t,n){let o=Array.isArray(n)?n:[n],e=[];for(let a of o)if(typeof a=="string")t.includes(a)&&e.push(a);else if(typeof a=="number"||typeof a=="boolean"){let i=a.toString();t.includes(i)&&e.push(i)}return e}function Z(t,n){let o=O(t,n),e=t;for(let a of o){const i=new RegExp(a,"i");e=e.replace(i,`<span style="color: #0284c7;">${a}</span>`)}return e}const G=_({inset:Boolean,...N({transition:"bottom-sheet-transition"})},"VBottomSheet"),J=I()({name:"VBottomSheet",props:G(),emits:{"update:modelValue":t=>!0},setup(t,n){let{slots:o}=n;const e=D(t,"modelValue");return L(()=>{const a=k.filterProps(t);return r(k,$(a,{contentClass:["v-bottom-sheet__content",t.contentClass],modelValue:e.value,"onUpdate:modelValue":i=>e.value=i,class:["v-bottom-sheet",{"v-bottom-sheet--inset":t.inset},t.class],style:t.style}),o)}),{}}}),Q=_({color:String,inset:Boolean,length:[Number,String],thickness:[Number,String],vertical:Boolean,...H(),...R()},"VDivider"),X=I()({name:"VDivider",props:Q(),setup(t,n){let{attrs:o}=n;const{themeClasses:e}=T(t),{textColorClasses:a,textColorStyles:i}=M(z(t,"color")),g=f(()=>{const m={};return t.length&&(m[t.vertical?"maxHeight":"maxWidth"]=S(t.length)),t.thickness&&(m[t.vertical?"borderRightWidth":"borderTopWidth"]=S(t.thickness)),m});return L(()=>r("hr",{class:[{"v-divider":!0,"v-divider--inset":t.inset,"v-divider--vertical":t.vertical},e.value,a.value,t.class],style:[g.value,i.value,t.style],"aria-orientation":!o.role||o.role==="separator"?t.vertical?"vertical":"horizontal":void 0,role:`${o.role||"separator"}`},null)),{}}}),Y={key:0,class:"tw-mr-3 tw-opacity-70 tw-text-lg tw-text-left"},tt={class:"tw-flex-1"},et=["innerHTML"],st={key:1,class:"tw-line-clamp-1 tw-max-w-64"},at={class:"tw-line-clamp-1 tw-max-w-60"},ot={class:"tw-text-red-400 tw-border-solid tw-border tw-text-xs tw-rounded tw-px-0.5 tw-mr-1"},nt={class:"tw-text-sm tw-opacity-70"},lt={key:2,class:"tw-text-orange-600 tw-bg-orange-100 tw-text-[11px] tw-w-fit tw-max-w-[263px] tw-px-1 tw-leading-5 tw-rounded-sm tw-mt-1 tw-text-nowrap tw-overflow-hidden"},it={class:"tw-opacity-35"},rt={class:"tw-flex tw-mx-4 tw-items-center tw-mb-2"},dt=["src"],ct={class:"tw-flex-1"},wt={class:"tw-line-clamp-1 tw-text-left"},mt={class:"tw-line-clamp-1 tw-max-w-60 tw-text-left"},ut={class:"tw-text-red-400 tw-border-solid tw-border tw-text-xs tw-rounded tw-px-0.5 tw-mr-1"},ht={class:"tw-text-sm tw-opacity-70"},gt={class:"tw-text-left tw-list-none tw-px-4"},xt=s("span",{class:"tw-text-sm"},"添加到播放列表",-1),yt={class:"tw-leading-10"},vt=s("span",{class:"tw-text-sm"},"更多功能待开发...",-1),ft={__name:"SongView",props:{song:{type:Object,default:{}},index:{type:Number,default:0},hasIndex:{type:Boolean,default:!0},isHightLight:{type:Boolean,default:!1},keyWord:{type:String,default:""}},emits:["select"],setup(t,{emit:n}){const o=W(),e=U(!1),a=t,i=n,g=(d,l)=>{i("select",{song:d,index:l})},m=()=>{o.addSong(a.song),e.value=!1};return(d,l)=>(c(),w("div",{class:b(["tw-flex tw-items-center tw-mt-2 tw-mb-2 tw-pb-2 tw-border-solid tw-border-slate-200 tw-border-t-0 tw-border-l-0 tw-border-r-0 tw-border-[1px]",{"tw-pt-1":!t.hasIndex}]),onClick:l[2]||(l[2]=x=>g(t.song,t.index-1))},[t.hasIndex?(c(),w("div",Y,u(t.index),1)):V("",!0),s("div",tt,[t.isHightLight?(c(),w("div",{key:0,class:"tw-line-clamp-1 tw-max-w-64",innerHTML:h(Z)(t.song.name,t.keyWord)},null,8,et)):(c(),w("div",st,u(t.song.name),1)),s("div",at,[p(s("span",ot,"VIP",512),[[C,t.song.fee==1]]),s("span",nt,u(h(B)(t.song.ar))+" - "+u(t.song.al.name),1)]),t.song.awardName?(c(),w("div",lt,u(t.song.awardName),1)):V("",!0)]),s("div",it,[r(y,{icon:"mdi-music-circle-outline",size:"30",class:"tw-text-lg"}),r(y,{icon:"mdi-dots-vertical",class:"tw-mr-2 tw-ml-3",onClick:l[0]||(l[0]=F(x=>e.value=!h(e),["stop"]))})]),r(J,{modelValue:h(e),"onUpdate:modelValue":l[1]||(l[1]=x=>j(e)?e.value=x:null)},{default:P(()=>[r(K,{height:"300",class:"text-center rounded-t-xl py-3"},{default:P(()=>[s("div",rt,[s("img",{class:"tw-rounded-2xl tw-h-16 tw-w-16 tw-mr-3 tw-ml-2",src:t.song.al.picUrl},null,8,dt),s("div",ct,[s("span",wt,"歌曲： "+u(t.song.name),1),s("div",mt,[p(s("span",ut,"VIP",512),[[C,t.song.fee==1]]),s("span",ht,u(h(B)(t.song.ar)),1)])])]),r(X,{thickness:1}),s("ul",gt,[s("li",{class:"tw-leading-10",onClick:m},[r(y,{class:"tw-text-red-500 tw-mr-3",icon:"mdi-hamburger-plus"}),xt]),s("li",yt,[r(y,{class:"tw-text-red-500 tw-mr-3",icon:""}),vt])])]),_:1})]),_:1},8,["modelValue"])],2))}},bt={class:"tw-bg-white"},kt=s("span",null,"播放全部",-1),Vt={__name:"MusicList",props:{songs:{type:Array,default:[]},hasIndex:{type:Boolean,default:!0},isHightLight:{type:Boolean,default:!1},keyWord:{type:String,default:""}},setup(t){const n=t,o=W(),e=f(()=>o.state.playList),a=f(()=>o.currentSong()),i=({song:d,index:l})=>{o.selectPlay(n.songs,l)},g=()=>{o.selectPlay(n.songs,0)},m=d=>{var l;return((l=a.value)==null?void 0:l.id)===(d==null?void 0:d.id)};return(d,l)=>{const x=ft;return c(),w("div",bt,[s("div",{class:"tw-bg-white tw-text-lg tw-leading-8 tw-pl-2 tw-py-2 tw-font-medium tw-border-solid tw-border-t-0 tw-border-l-0 tw-border-slate-200 tw-border-r-0 tw-border-[1px] tw-rounded-t-2xl",onClick:g},[r(y,{icon:"mdi-play-circle",color:"red-darken-1",class:"tw-mr-3 tw--ml-2"}),kt]),s("div",{class:b(["tw-min-h-80",{"tw-pb-12":h(e).length}])},[(c(!0),w(E,null,q(t.songs,(v,A)=>(c(),w("div",{key:v.id,class:b({"tw-text-red-500":m(v)})},[r(x,{song:v,index:A+1,hasIndex:t.hasIndex,isHightLight:!0,keyWord:t.keyWord,onSelect:i},null,8,["song","index","hasIndex","keyWord"])],2))),128))],2)])}}};export{Vt as _,Z as b};
